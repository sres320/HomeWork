---
title: "0516_HOMEWORK"
output: github_document
---

#1928-1969é–“ï¼Œå°å…’éº»ç—ºåœ¨ç¾åœ‹å„å·çš„ç™¼ç”Ÿç‡è®ŠåŒ–

##è³‡æ–™å‰è™•ç†

###æŠŠè³‡æ–™è®€é€²ä¾†
æŠŠè³‡æ–™è·Ÿæ­¤æª”æ¡ˆæ”¾åœ¨åŒä¸€å€‹åœ°æ–¹ï¼Œç„¶å¾Œè®€é€²ä¾†ã€‚
```
polio = read.csv("POLIO_Incidence.csv",stringsAsFactors=F)
head(polio)
```
###å°‡å¯¬è¡¨æ ¼è½‰ç‚ºé•·è¡¨æ ¼
å°‡å¯¬è¡¨æ ¼è½‰ç‚ºé•·è¡¨æ ¼,ä»¥å¹´(YEAR)/é€±(WEEK)ç‚ºåŸºæº–,å„å·åcolumnæ‰“æ•£è®Šé•·ï¼Œ

meltè¦å…ˆä¸‹è¼‰reshapeæ‰å¯ç”¨ã€‚
```
install.packages("reshape")
library(reshape)
polio.m = melt(polio,id.vars=c('YEAR','WEEK'),stringsAsFactors=F)
head(polio.m)
```
<<<<<<< HEAD:0516HW+.rmd
###³B²z¯Ê­È
³B²z¯Ê­È,±N"-"Âà¬°NA¡A±NvalueÄæ¦ìÂà¬°¼Æ­È¡C¡C

(¦]¬°¤@¨ÇÅª¸ê®Æ¤è­±ªº°İÃD¡A©Ò¥H­n¥Îas.character()¥ıÂà¤@¦¸­È)
=======
###è™•ç†ç¼ºå€¼
è™•ç†ç¼ºå€¼,å°‡"-"è½‰ç‚ºNAï¼Œå°‡valueæ¬„ä½è½‰ç‚ºæ•¸å€¼ã€‚ã€‚

(å› ç‚ºä¸€äº›è®€è³‡æ–™æ–¹é¢çš„å•é¡Œï¼Œæ‰€ä»¥è¦ç”¨as.character()å…ˆè½‰ä¸€æ¬¡å€¼)
>>>>>>> origin/master:0516HW.rmd
```
polio.m[polio.m$value == "-",]$value = NA                     
polio.m$value = as.numeric(as.character(polio.m$value))    
```
###è¨ˆç®—å¹´åº¦ç™¼ç”Ÿç‡
å„å·å„å¹´åº¦åŠ ç¸½ï¼Œè¨ˆç®—è©²å¹´åº¦çš„ç¸½ç™¼ç”Ÿç‡ã€‚
```
polio.sumYear = aggregate(value~YEAR+variable,data=polio.m,FUN=sum,na.rm=F)
head(polio.sumYear)
```


##è¦–è¦ºåŒ–å‘ˆç¾

###å…ˆä¸‹è¼‰ggplot2æ‰å¯ä»¥ç”¨
```
install.packages("ggplot2")
library(ggplot2)
```
###è§£é‡‹å¦‚ä½•é¸æ“‡åœ–å½¢ç¨®é¡
å› ç‚ºè¦ºå¾—è¦æ”¾å…¥ä¸‰å€‹é¢å‘çš„è³‡æ–™(ä¸‰ç¶­)ï¼Œå°±æƒ³åˆ°heatmapé€™å€‹å½¢å¼ä¾†è¡¨ç¤ºï¼Œ

å› ç‚ºå®ƒåŒ…å«X.Yè»¸ï¼Œä¸¦ä¸”å¯ä»¥åœ¨ç›¸å°æ‡‰çš„ç©ºæ ¼å¡«ä¸Šé¡è‰²åšç¬¬ä¸‰ç¨®è¨»è¨˜ï¼Œ

<<<<<<< HEAD:0516HW+.rmd
²Ä¤TºØµù°O§Y¬O¦U¦{¦U¦~¤À¥[Á`¡A§Ú¥Hµµ¦â§@¬°µù°O¡C
=======
ç¬¬ä¸‰ç¨®è¨»è¨˜å³æ˜¯å„å·å„å¹´åˆ†åŠ ç¸½ï¼Œæˆ‘ä»¥ç´«è‰²ä½œç‚ºè¨»è¨˜ã€‚
>>>>>>> origin/master:0516HW.rmd

###ç¨‹å¼ç¢¼
ç”¨ggplot2ä½œåœ–ï¼Œx=YEARï¼›y=variableï¼Œ

æ—é‚Šæ¨™è¨˜é¡è‰²çš„titleç‚ºã€Œç™¼ç”Ÿç‡ã€ï¼Œæ•¸å€¼è¶Šé«˜é¡è‰²è¶Šæ¥è¿‘ç´«è‰²ï¼Œè¶Šä½è¶Šæ¥è¿‘ç™½è‰²ï¼Œ

ä¸¦åœ¨1955å¹´ä¸Šç•«ä¸Šä¸€æ¢é»‘è‰²è™›ç·šã€‚
```
p=ggplot(polio.sumYear, aes(YEAR, variable)) + geom_tile(aes(fill = polio.sumYear$value),colour = "white") + scale_fill_gradient(name="ç™¼ç”Ÿç‡", low = "white",high = "Navy")+ geom_vline(xintercept = 1955,colour= "black",linetype = "longdash" )
print(p)
```
<<<<<<< HEAD:0516HW+.rmd
###¹Ï§Î§e²{¡A«ö·Ó¬O§_¥i¥H»´©ö¬İÀ´¹Ï§Îµ¹¤À 
![¤p¨à³Â·ô¦b¬ü°ê¦U¦{ªºµo¥Í²vÅÜ¤Æ](https://raw.githubusercontent.com/sres320/image/master/0516.png)

###¸ÑÄÀ¹Ï§Î
§Ú±N¬ü°ê¦U¦{©ñ¦by¶b(§Yvariable)¡A¦~¥÷¬°x¶b¡A
=======
###åœ–å½¢å‘ˆç¾ï¼ŒæŒ‰ç…§æ˜¯å¦å¯ä»¥è¼•æ˜“çœ‹æ‡‚åœ–å½¢çµ¦åˆ† 
![å°å…’éº»ç—ºåœ¨ç¾åœ‹å„å·çš„ç™¼ç”Ÿç‡è®ŠåŒ–](https://raw.githubusercontent.com/sres320/image/master/0516.png)

###è§£é‡‹åœ–å½¢
æˆ‘å°‡ç¾åœ‹å„å·æ”¾åœ¨yè»¸(å³variable)ï¼Œå¹´ä»½ç‚ºxè»¸ï¼Œ
>>>>>>> origin/master:0516HW.rmd

ä¸¦åœ¨1955å¹´ç•«ä¸Šæ¨™è¨˜ï¼Œå› ç‚ºè©²å¹´é–‹å§‹æœ‰å°å…’éº»ç—ºç–«è‹—ï¼Œ

å¯ä»¥å¾ˆæ˜é¡¯çš„çœ‹å‡ºå¾1930å·¦å³å°å…’éº»ç—ºæ—¥è¶¨åš´é‡ï¼Œä¸¦åœ¨1950å¹´ä»£åˆ°é”é¡›å³°ï¼Œ

ä½†åœ¨1955å¹´ç–«è‹—ç”¢ç”Ÿå¾Œï¼Œåœ¨è™›ç·šçš„å³é‚Šå¯ä»¥èªªæ˜¯å¹¾ä¹çœ‹ä¸åˆ°ç´«è‰²çš„è¹¤è·¡ï¼Œ

é€™ä»£è¡¨å°å…’éº»ç—ºç™¼ç”Ÿç‡é€æ—¥é™ä½ã€‚


